<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>SIDDS DEV - DESI TROLL EDITION</title>
  <style>
    :root { --neon-green: #00ff41; --bg-black: #050505; --panel-gray: #111; --danger-red: #d32f2f; }
    body { font-family: 'Courier New', monospace; background: var(--bg-black); color: var(--neon-green); margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
    
    /* HEADER */
    header { background: var(--panel-gray); padding: 15px; border-bottom: 2px solid var(--neon-green); display: flex; justify-content: space-between; align-items: center; box-shadow: 0 0 15px rgba(0, 255, 65, 0.2); }
    h1 { margin: 0; font-size: 18px; letter-spacing: 2px; text-transform: uppercase; }
    .status { background: #222; padding: 5px 10px; border-radius: 4px; font-weight: bold; font-size: 12px; color: #555; }
    .status.connected { color: #fff; background: var(--neon-green); box-shadow: 0 0 10px var(--neon-green); color: #000; }

    /* LAYOUT */
    .container { display: flex; flex: 1; flex-direction: column; overflow: hidden; }
    
    /* TERMINAL */
    .terminal { flex: 1; background: #000; padding: 15px; overflow-y: auto; font-size: 12px; border-bottom: 1px solid #333; white-space: pre-wrap; color: #0f0; text-shadow: 0 0 5px rgba(0, 255, 0, 0.4); }
    
    /* CONTROLS */
    .controls { flex: 1; background: #111; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
    
    /* BUTTONS */
    .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    button { background: #1a1a1a; color: #fff; border: 1px solid #333; padding: 15px; border-radius: 8px; font-family: inherit; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.2s; }
    button:active { transform: scale(0.98); }
    
    /* COLORS */
    .btn-connect { background: var(--neon-green); color: #000; width: 100%; font-size: 16px; margin-bottom: 10px; }
    .btn-blue { border-left: 4px solid #03A9F4; }
    .btn-pink { border-left: 4px solid #ff00ff; }
    .btn-red { background: #300; border: 1px solid var(--danger-red); color: var(--danger-red); grid-column: span 2; }
    
    /* INPUT */
    .cmd-bar { display: flex; gap: 5px; margin-top: 10px; }
    input { flex: 1; background: #222; border: 1px solid #444; color: #fff; padding: 10px; border-radius: 4px; }
  </style>
</head>
<body>

  <header>
    <h1>SIDDS<span>DEV</span> v9.0</h1>
    <div id="status" class="status">DISCONNECTED</div>
  </header>

  <div class="container">
    <div id="terminal" class="terminal">
      > SIDDS DESI TROLL TOOL INITIALIZED...
      > WAITING FOR SAMSUNG OTG CONNECTION...
    </div>

    <div class="controls">
      <button onclick="connect()" class="btn-connect" id="conBtn">ðŸ”Œ CONNECT (OTG)</button>

      <div style="color: #888; font-size: 12px; border-bottom: 1px solid #333; padding-bottom: 5px;">TROLLING ARSENAL</div>
      <div class="btn-grid">
        <button class="btn-pink" onclick="runDesiTroll()">ðŸ˜‚ 1. LOAD DESI LIST</button>
        <button class="btn-pink" onclick="sendSequence('attack -t beacon -l')">ðŸ“¡ 2. SPAM DESI LIST</button>
        <button class="btn-blue" onclick="sendSequence('attack -t rickroll')">ðŸŽµ START RICKROLL</button>
        <button class="btn-red" onclick="send('stopscan')">ðŸ›‘ STOP ATTACK</button>
      </div>

      <div style="color: #888; font-size: 12px; border-bottom: 1px solid #333; padding-bottom: 5px; margin-top: 10px;">SYSTEM</div>
      <div class="btn-grid">
        <button onclick="send('scanap')">Scan APs</button>
        <button onclick="send('stopscan')">Stop Scan</button>
        <button onclick="send('reboot')">Reboot</button>
        <button onclick="send('clearlist -s')">Clear SSIDs</button>
      </div>
      
      <div class="cmd-bar">
        <input id="customCmd" type="text" placeholder="Manual Command...">
        <button onclick="manualSend()" style="width: 60px;">TX</button>
      </div>
    </div>
  </div>

  <script>
    let port, writer, keepReading = false;
    const term = document.getElementById('terminal');
    const status = document.getElementById('status');
    const conBtn = document.getElementById('conBtn');

    // --- CONNECTION ---
    async function connect() {
      if (!navigator.serial) return alert("ERROR: Open this in Chrome Beta or use HTTPS. File:// not supported on Android.");
      try {
        port = await navigator.serial.requestPort();
        await port.open({ baudRate: 115200 });
        status.textContent = "SYSTEM ACTIVE";
        status.classList.add("connected");
        conBtn.textContent = "CONNECTED";
        conBtn.style.background = "#222";
        conBtn.style.color = "#0f0";
        keepReading = true;
        readLoop();
        setTimeout(() => send('help'), 500);
      } catch (e) { alert("Connection Failed: " + e); }
    }

    // --- SEND COMMAND ---
    async function send(cmd) {
      if (!port) return;
      term.innerText += `\n> ${cmd}\n`;
      term.scrollTop = term.scrollHeight;
      const w = port.writable.getWriter();
      await w.write(new TextEncoder().encode(cmd + "\r\n"));
      w.releaseLock();
    }

    // --- SEQUENCE (Stop first, then Attack) ---
    async function sendSequence(cmd) {
      await send('stopscan'); 
      await new Promise(r => setTimeout(r, 400)); // Delay for stability
      await send(cmd);
    }

    // --- DESI TROLL MACRO ---
    async function runDesiTroll() {
      term.innerText += "\n[MACRO] > GENERATING FUNNY INDIAN SSIDS...\n";
      
      // 1. Clear old list
      await send('stopscan');
      await new Promise(r => setTimeout(r, 300));
      await send('clearlist -s');
      
      // 2. The List
      const names = [
        "Chintu_Ka_Net",
        "Bhabhi_Ki_WiFi",
        "ModiJi_Digital_India",
        "Tera_Baap_Aaya",
        "Virus_Loading_99%",
        "Aadhaar_Card_Link",
        "Mummy_Ka_Jio",
        "Police_Surveillance",
        "Free_WiFi_Scam",
        "Password_Mat_Maang"
      ];

      // 3. Inject Names
      for (let name of names) {
        await send(`ssid -a -n "${name}"`);
        await new Promise(r => setTimeout(r, 250)); // Fast but safe delay
      }
      
      term.innerText += "\n[MACRO] > LIST LOADED! CLICK 'SPAM DESI LIST' NOW.\n";
    }

    function manualSend() {
      let val = document.getElementById('customCmd').value;
      if(val) { send(val); document.getElementById('customCmd').value = ""; }
    }

    async function readLoop() {
      const d = new TextDecoder();
      while (port.readable && keepReading) {
        const r = port.readable.getReader();
        try {
          while (true) {
            const { value, done } = await r.read();
            if (done) break;
            term.innerText += d.decode(value);
            term.scrollTop = term.scrollHeight;
          }
        } catch (e) { console.error(e); } finally { r.releaseLock(); }
      }
    }
  </script>
</body>
</html>
